import{l,c as Z,a as D,j as ee}from"./mini-scrollbar-1dk_y2Qh.js";import{R as p}from"./index-D4lIrffr.js";import{u as ue,a as ae}from"./use-taomu-classname-Dqq3FQ7F.js";import{i as ne}from"./use-custom-event-BYXfsBOj.js";import{E as le}from"./empty-BT6epCKp.js";import{a as te,M as re}from"./menu-item-B2GSHL_6.js";ne("common",{menuWidth:"auto",menuHeight:"auto",menuBackground:l("colorBackground"),menuPadding:4,menuRadius:l("radiusSM")});const ie=Z`
  overflow-y: auto;
  height: ${l("menuHeight")};
  width: ${l("menuWidth")};
  background: ${l("menuBackground")};
  padding: ${l("menuPadding")};
  border-radius: ${l("menuRadius")};
  gap: ${l("menuGap")};

  &.disable-user-select {
    user-select: none;
  }
`;try{Empty.displayName="Empty",Empty.__docgenInfo={description:"",displayName:"Empty",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"ReactNode"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"ReactNode"}}}}}catch{}try{MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",displayName:"MenuItem",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"MenuItemKey"}},styleMode:{defaultValue:null,description:"菜单风格",name:"styleMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"windows"'}]}},label:{defaultValue:null,description:"菜单标题",name:"label",required:!1,type:{name:"ReactNode"}},labelProps:{defaultValue:null,description:"标题基础 Props",name:"labelProps",required:!1,type:{name:"any"}},title:{defaultValue:null,description:"鼠标悬停时展示的内容",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"自定义图标",name:"icon",required:!1,type:{name:"ReactNode"}},active:{defaultValue:null,description:"是否激活状态",name:"active",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"是否禁用",name:"disabled",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"是否可见, 默认为 true",name:"visible",required:!1,type:{name:"boolean"}},divider:{defaultValue:null,description:"是否为分割线",name:"divider",required:!1,type:{name:"boolean"}},ellipsis:{defaultValue:null,description:"超出一行显示省略号",name:"ellipsis",required:!1,type:{name:"boolean"}},paddingX:{defaultValue:null,description:"横向 padding",name:"paddingX",required:!1,type:{name:"string | number"}},paddingY:{defaultValue:null,description:"纵向 padding",name:"paddingY",required:!1,type:{name:"string | number"}},radius:{defaultValue:null,description:"自定义圆角",name:"radius",required:!1,type:{name:"string | number"}},gap:{defaultValue:null,description:"间距",name:"gap",required:!1,type:{name:"string | number"}},meta:{defaultValue:null,description:"传递元数据",name:"meta",required:!1,type:{name:"any"}},onClick:{defaultValue:null,description:"点击事件",name:"onClick",required:!1,type:{name:"((item: MenuItemProps, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}}}}}catch{}const P=({children:u,className:r,cssVars:i,style:o,items:n,width:N,height:R,padding:x=4,gap:K=4,radius:S,bordered:$=!0,shadow:H="md",background:T,itemProps:W,disableUserSelect:L=!0,defaultIndexes:V,defaultKeys:q,activeIndexes:c,activeKeys:y,mode:m="none",direction:M="vertical",empty:E=!0,overflowBreak:U,styleMode:X,onChange:b,onMenuItemClick:g,beforeItemRender:F,...Y})=>{const j=ue("menu-group","flex flex-inline p-4 bs-box",M==="vertical"?"col":"row",`shadow-${H}`,{"disable-user-select":L,"border rect-1":$,"flex-wrap":U},r),G=ae({menuWidth:N,menuHeight:R,menuBackground:T,menuPadding:x,menuRadius:S,menuGap:K,...i},o),[z,A]=p.useState(),[B,v]=p.useState(w(n,V,q)),d=p.useMemo(()=>c!==void 0||y!==void 0?w(n,c,y):B,[c,y,B,V,q,n]);p.useEffect(()=>()=>{m==="radio"&&d.length===1&&A(d[0])},[d,m]),p.useEffect(()=>{m!=="radio"&&A(void 0)},[m]);function I(e){const a=e.map(t=>{var s;return((s=n[t])==null?void 0:s.name)||t});v(e),b==null||b(a,e)}function J(e){switch(m){case"radio":if(d[0]===e)break;v([e]),I([e]);break;case"checkbox":v(a=>{const t=a!=null&&a.includes(e)?a==null?void 0:a.filter(s=>s!==e):[...a||[],e];return I(t),t});break}}function O(){return n!=null&&n.length?n.map(({onClick:e,name:a,active:t,styleMode:s,...Q},f)=>{const C={name:a,active:t||d.includes(f),styleMode:s||X,onClick:(_,k)=>{J(f),e==null||e(_,k),g==null||g(_,f,k)},...W,...Q},h=D(re,{...C},a||f);return F?F(h,C):h}):E===!0?D(le,{}):E||null}return D(te.Provider,{value:{prevIndex:z,currentIndex:d,direction:M},children:ee("div",{className:j,style:G,css:ie,...Y,children:[O(),u]})})};function w(u,r,i){return typeof r=="number"?[r]:Array.isArray(r)?r:u!=null&&u.length?Array.isArray(i)?i.map(o=>u.findIndex(n=>n.name===o)):i?[u.findIndex(o=>o.name===i)]:[]:[]}try{P.displayName="Menu",P.__docgenInfo={description:"",displayName:"Menu",props:{direction:{defaultValue:{value:"vertical"},description:"排列方式",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},mode:{defaultValue:{value:"none"},description:"交互模式",name:"mode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'},{value:'"radio"'}]}},styleMode:{defaultValue:null,description:"菜单风格",name:"styleMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"windows"'}]}},defaultIndexes:{defaultValue:null,description:"默认选中项索引",name:"defaultIndexes",required:!1,type:{name:"number | number[]"}},defaultKeys:{defaultValue:null,description:"默认选中项 key",name:"defaultKeys",required:!1,type:{name:"MenuItemKey | MenuItemKey[]"}},activeIndexes:{defaultValue:null,description:"受控选中项索引",name:"activeIndexes",required:!1,type:{name:"number | number[]"}},activeKeys:{defaultValue:null,description:"受控选中项 key",name:"activeKeys",required:!1,type:{name:"MenuItemKey | MenuItemKey[]"}},items:{defaultValue:null,description:"菜单配置",name:"items",required:!1,type:{name:"MenuItemProps[]"}},width:{defaultValue:null,description:"宽度 默认 auto",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"高度 默认 auto",name:"height",required:!1,type:{name:"Height<string | number>"}},padding:{defaultValue:{value:"4"},description:"group 边距",name:"padding",required:!1,type:{name:"Padding<string | number>"}},radius:{defaultValue:null,description:"group 圆角",name:"radius",required:!1,type:{name:"BorderRadius<string | number>"}},gap:{defaultValue:{value:"4"},description:"item 间距",name:"gap",required:!1,type:{name:"number"}},overflowBreak:{defaultValue:null,description:"超出换行",name:"overflowBreak",required:!1,type:{name:"boolean"}},bordered:{defaultValue:{value:"true"},description:"显示外边框",name:"bordered",required:!1,type:{name:"boolean"}},shadow:{defaultValue:{value:"md"},description:"显示阴影",name:"shadow",required:!1,type:{name:"any"}},empty:{defaultValue:{value:"true"},description:"空状态",name:"empty",required:!1,type:{name:"ReactNode"}},background:{defaultValue:null,description:"背景色",name:"background",required:!1,type:{name:"Background<string | number>"}},itemProps:{defaultValue:null,description:"附加到 MenuItem 组件的 props",name:"itemProps",required:!1,type:{name:"MenuItemProps"}},disableUserSelect:{defaultValue:{value:"true"},description:"禁止文本选中",name:"disableUserSelect",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"选中项变更",name:"onChange",required:!1,type:{name:"((keys: MenuItemKey | MenuItemKey[], indexes: number | number[]) => void)"}},onMenuItemClick:{defaultValue:null,description:"处理菜单组点击事件",name:"onMenuItemClick",required:!1,type:{name:"((item: MenuItemProps, index: number, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},beforeItemRender:{defaultValue:null,description:"渲染 items 前调用",name:"beforeItemRender",required:!1,type:{name:"((node: Element, props: MenuItemProps) => ReactNode)"}}}}}catch{}try{Menu.displayName="Menu",Menu.__docgenInfo={description:"",displayName:"Menu",props:{direction:{defaultValue:{value:"vertical"},description:"排列方式",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},mode:{defaultValue:{value:"none"},description:"交互模式",name:"mode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'},{value:'"radio"'}]}},styleMode:{defaultValue:null,description:"菜单风格",name:"styleMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"windows"'}]}},defaultIndexes:{defaultValue:null,description:"默认选中项索引",name:"defaultIndexes",required:!1,type:{name:"number | number[]"}},defaultKeys:{defaultValue:null,description:"默认选中项 key",name:"defaultKeys",required:!1,type:{name:"MenuItemKey | MenuItemKey[]"}},activeIndexes:{defaultValue:null,description:"受控选中项索引",name:"activeIndexes",required:!1,type:{name:"number | number[]"}},activeKeys:{defaultValue:null,description:"受控选中项 key",name:"activeKeys",required:!1,type:{name:"MenuItemKey | MenuItemKey[]"}},items:{defaultValue:null,description:"菜单配置",name:"items",required:!1,type:{name:"MenuItemProps[]"}},width:{defaultValue:null,description:"宽度 默认 auto",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"高度 默认 auto",name:"height",required:!1,type:{name:"Height<string | number>"}},padding:{defaultValue:{value:"4"},description:"group 边距",name:"padding",required:!1,type:{name:"Padding<string | number>"}},radius:{defaultValue:null,description:"group 圆角",name:"radius",required:!1,type:{name:"BorderRadius<string | number>"}},gap:{defaultValue:{value:"4"},description:"item 间距",name:"gap",required:!1,type:{name:"number"}},overflowBreak:{defaultValue:null,description:"超出换行",name:"overflowBreak",required:!1,type:{name:"boolean"}},bordered:{defaultValue:{value:"true"},description:"显示外边框",name:"bordered",required:!1,type:{name:"boolean"}},shadow:{defaultValue:{value:"md"},description:"显示阴影",name:"shadow",required:!1,type:{name:"any"}},empty:{defaultValue:{value:"true"},description:"空状态",name:"empty",required:!1,type:{name:"ReactNode"}},background:{defaultValue:null,description:"背景色",name:"background",required:!1,type:{name:"Background<string | number>"}},itemProps:{defaultValue:null,description:"附加到 MenuItem 组件的 props",name:"itemProps",required:!1,type:{name:"MenuItemProps"}},disableUserSelect:{defaultValue:{value:"true"},description:"禁止文本选中",name:"disableUserSelect",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"选中项变更",name:"onChange",required:!1,type:{name:"((keys: MenuItemKey | MenuItemKey[], indexes: number | number[]) => void)"}},onMenuItemClick:{defaultValue:null,description:"处理菜单组点击事件",name:"onMenuItemClick",required:!1,type:{name:"((item: MenuItemProps, index: number, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},beforeItemRender:{defaultValue:null,description:"渲染 items 前调用",name:"beforeItemRender",required:!1,type:{name:"((node: Element, props: MenuItemProps) => ReactNode)"}}}}}catch{}try{MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",displayName:"MenuItem",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"MenuItemKey"}},styleMode:{defaultValue:null,description:"菜单风格",name:"styleMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"windows"'}]}},label:{defaultValue:null,description:"菜单标题",name:"label",required:!1,type:{name:"ReactNode"}},labelProps:{defaultValue:null,description:"标题基础 Props",name:"labelProps",required:!1,type:{name:"any"}},title:{defaultValue:null,description:"鼠标悬停时展示的内容",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"自定义图标",name:"icon",required:!1,type:{name:"ReactNode"}},active:{defaultValue:null,description:"是否激活状态",name:"active",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"是否禁用",name:"disabled",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"是否可见, 默认为 true",name:"visible",required:!1,type:{name:"boolean"}},divider:{defaultValue:null,description:"是否为分割线",name:"divider",required:!1,type:{name:"boolean"}},ellipsis:{defaultValue:null,description:"超出一行显示省略号",name:"ellipsis",required:!1,type:{name:"boolean"}},paddingX:{defaultValue:null,description:"横向 padding",name:"paddingX",required:!1,type:{name:"string | number"}},paddingY:{defaultValue:null,description:"纵向 padding",name:"paddingY",required:!1,type:{name:"string | number"}},radius:{defaultValue:null,description:"自定义圆角",name:"radius",required:!1,type:{name:"string | number"}},gap:{defaultValue:null,description:"间距",name:"gap",required:!1,type:{name:"string | number"}},meta:{defaultValue:null,description:"传递元数据",name:"meta",required:!1,type:{name:"any"}},onClick:{defaultValue:null,description:"点击事件",name:"onClick",required:!1,type:{name:"((item: MenuItemProps, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}}}}}catch{}export{P as M};
