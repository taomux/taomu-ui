import{a as v,f as C}from"./mini-scrollbar-1dk_y2Qh.js";import{R as l}from"./index-D4lIrffr.js";import"./index-CnYZ9M0K.js";import{M as P}from"./index-Bov2IunZ.js";import{a as A}from"./popup-trigger-CQr14FCK.js";const D=(t,e)=>{if(e)switch(t){case"top-left":case"top-right":return n("bottom");case"bottom-left":case"bottom-right":return n("top")}switch(t){case"bottom":case"center-bottom":case"bottom-center":return n("top");case"left":case"left-center":case"left-bottom":case"left-top":case"top-left":case"bottom-left":return n("right");case"right":case"right-center":case"right-bottom":case"right-top":case"top-right":case"bottom-right":return n("left");default:return n("bottom")}};function n(t){let e="",u="",a="",r="";switch(t){case"top":e="0, -8px, 0",u="0, 0, 0",a="0, 0, 0",r="0, -8px, 0";break;case"right":e="8px, 0, 0",u="0, 0, 0",a="0, 0, 0",r="8px, 0, 0";break;case"bottom":e="0, 8px, 0",u="0, 0, 0",a="0, 0, 0",r="0, 8px, 0";break;case"left":e="-8px, 0, 0",u="0, 0, 0",a="0, 0, 0",r="-8px, 0, 0";break}return{options:{duration:300,easing:"ease-out"},enter:{keyframes:[{transform:`translate3d(${e})`,opacity:0},{transform:`translate3d(${u})`,opacity:1}]},leave:{keyframes:[{transform:`translate3d(${a})`,opacity:1},{transform:`translate3d(${r})`,opacity:0}]}}}const g=l.forwardRef(({children:t,menus:e,menuProps:u={},portalOptions:a={},equalWidth:r,trigger:s="click",contentProps:i={},content:c,onMenuItemClick:h,...b},y)=>{const o=l.useRef(null);l.useImperativeHandle(y,()=>o.current||void 0),l.useEffect(()=>()=>{o.current&&o.current.closePopup()},[]);const F=l.useMemo(()=>c||(E=>{const{onMenuItemClick:p,popupInstance:V,...x}=E;return v(P,{width:"100%",onMenuItemClick:async(q,M,k)=>{var f;const m=p==null?void 0:p(q,M,k);if(C(m))return m.then(()=>{var d;(d=o.current)==null||d.closePopup()});(f=o.current)==null||f.closePopup()},...x})}),[]);return i.items=e||u.items,i.onMenuItemClick=h,v(A,{ref:o,trigger:s,contentProps:i,portalOptions:{equalWidth:r,edgeOffset:8,popupAnimationConfigBuilder:D,...a},content:F,...b,children:t})});try{g.displayName="Dropdown",g.__docgenInfo={description:"",displayName:"Dropdown",props:{menus:{defaultValue:null,description:"",name:"menus",required:!1,type:{name:"MenuItemProps[]"}},menuProps:{defaultValue:{value:"{}"},description:"",name:"menuProps",required:!1,type:{name:"MenuProps"}},equalWidth:{defaultValue:null,description:"",name:"equalWidth",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"equal"'},{value:'"min-width"'},{value:'"max-width"'}]}},onMenuItemClick:{defaultValue:null,description:"",name:"onMenuItemClick",required:!1,type:{name:"((item: MenuItemProps, index: number, event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},children:{defaultValue:null,description:"触发元素",name:"children",required:!0,type:{name:"Element"}},content:{defaultValue:null,description:"弹出内容",name:"content",required:!1,type:{name:"ComponentType<any>"}},contentProps:{defaultValue:{value:"{}"},description:"弹出内容 props 用于更新弹层内部数据",name:"contentProps",required:!1,type:{name:"MenuProps"}},trigger:{defaultValue:{value:"click"},description:"触发条件，默认: click",name:"trigger",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"click"'},{value:'"hover"'}]}},position:{defaultValue:null,description:"弹出位置, 默认为 'bottom-left'",name:"position",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"center"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-bottom"'},{value:'"bottom-center"'},{value:'"bottom-left"'},{value:'"bottom-right"'},{value:'"bottom-top"'},{value:'"center-bottom"'},{value:'"center-center"'},{value:'"center-left"'},{value:'"center-right"'},{value:'"center-top"'},{value:'"left-bottom"'},{value:'"left-center"'},{value:'"left-left"'},{value:'"left-right"'},{value:'"left-top"'},{value:'"right-bottom"'},{value:'"right-center"'},{value:'"right-left"'},{value:'"right-right"'},{value:'"right-top"'},{value:'"top-bottom"'},{value:'"top-center"'},{value:'"top-left"'},{value:'"top-right"'},{value:'"top-top"'},{value:'"dialog-center"'}]}},portalOptions:{defaultValue:{value:"{}"},description:"传送门选项",name:"portalOptions",required:!1,type:{name:"PopupPortalOptions"}},debounceTime:{defaultValue:null,description:"防抖时间, 只在 trigger 为 hover 时生效",name:"debounceTime",required:!1,type:{name:"number"}},dynamic:{defaultValue:null,description:"是否动态更新, 如果存在弹层嵌套,请勿使用",name:"dynamic",required:!1,type:{name:"boolean"}}}}}catch{}export{g as D};
